{
    "configuration": [
        {
            "application_name": "netlog",
            "ami": "ami-0e1bed4f06a3b463d",
            "no_of_instances": 1,
            "instance_type": "t2.large",
            "script_path": "scripts/netlog.sh",
            "params": ["ip:kafka-1"],
            "healthcheck_cmd": "echo 'No Healthcheck for NetLog'"
        },
        {
            "application_name": "netlogdivies",
            "ami": "ami-0e1bed4f06a3b463d",
            "no_of_instances": 1,
            "instance_type": "t2.large",
            "script_path": "scripts/netlogdivies.sh",
            "params": ["ip:kafka-1"],
            "healthcheck_cmd": "echo 'No Healthcheck for NetLogDivies'"
        },
        {
            "application_name": "zookeeper",
            "ami": "ami-0e1bed4f06a3b463d",
            "instance_type": "t2.large",
            "no_of_instances": 1,
            "script_path": "scripts/zookeeper.sh",
            "params": [],
            "healthcheck_cmd": "until echo ruok | nc 127.0.0.1 2181 | grep imok > /dev/null 2>&1; do echo 'Waiting for Zookeeper...'; sleep 10; done"
        },
        {
            "application_name": "kafka",
            "ami": "ami-0e1bed4f06a3b463d",
            "instance_type": "t2.large",
            "no_of_instances": 1,
            "script_path": "scripts/kafka.sh",
            "params": ["ip:kafka-1", "ip:zookeeper-1"],
            "healthcheck_cmd": "until docker exec kafka kafka-topics --bootstrap-server localhost:9092 --list > /dev/null 2>&1; do echo 'Waiting for Kafka...'; sleep 10; done"
        },
        {
            "application_name": "kafkahq",
            "ami": "ami-0e1bed4f06a3b463d",
            "instance_type": "t2.micro",
            "no_of_instances": 1,
            "script_path": "scripts/kafkahq.sh",
            "params": ["ip:kafka-1"],
            "healthcheck_cmd": "echo 'No Healthcheck for Kafkahq'"
        },
        {
            "application_name": "ksql-server",
            "ami": "ami-0e1bed4f06a3b463d",
            "instance_type": "t2.micro",
            "no_of_instances": 1,
            "script_path": "scripts/ksql.sh",
            "params": ["ip:kafka-1"],
            "healthcheck_cmd": "echo 'No Healthcheck for KSQL Server'"
        },
        {
            "application_name": "flink-jobmanager",
            "ami": "ami-0e1bed4f06a3b463d",
            "instance_type": "t2.large",
            "no_of_instances": 1,
            "script_path": "scripts/flink-jobmanager.sh",
            "params": ["ip:flink-jobmanager-1"],
            "healthcheck_cmd": "until curl -s http://localhost:8081/overview > /dev/null 2>&1; do echo 'Waiting for FlinkJobManager...'; sleep 5; done"
        },
        {
            "application_name": "flink-taskmanager",
            "ami": "ami-0e1bed4f06a3b463d",
            "instance_type": "t2.large",
            "no_of_instances": 3,
            "script_path": "scripts/flink-taskmanager.sh",
            "params": ["ip:flink-jobmanager-1"],
            "healthcheck_cmd": "until curl -s http://localhost:8081/taskmanagers > /dev/null 2>&1; do echo 'Waiting for FlinkTaskManager...'; sleep 5; done"
        }
    ]
}
